{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"/Users/tobiadesanya/Slurm-feedback/src/components/VideoPair.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoPair=()=>{const[videos,setVideos]=useState([]);const[currentPair,setCurrentPair]=useState(0);const username=localStorage.getItem(\"username\");useEffect(()=>{// Fetch video data from backend\nfetch(\"http://localhost:5000/videos\").then(res=>res.json()).then(data=>setVideos(data));},[]);const handleVote=preferredVideoId=>{const voteData={username,video1_id:videos[currentPair].id,video2_id:videos[currentPair+1].id,preferred_video_id:preferredVideoId};fetch(\"http://localhost:5000/vote\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(voteData)}).then(()=>{if(currentPair+2<videos.length){setCurrentPair(currentPair+2);// Show next pair\n}else{alert(\"Thank you for voting!\");// Voting complete\n}});};if(videos.length<2)return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading videos...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"video-pair-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",username]}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"video\",{src:videos[currentPair].url,controls:true}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleVote(videos[currentPair].id),className:\"video-button\",children:\"Select Video A\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"video\",{src:videos[currentPair+1].url,controls:true}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleVote(videos[currentPair+1].id),className:\"video-button\",children:\"Select Video B\"})]})]})]});};export default VideoPair;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","VideoPair","videos","setVideos","currentPair","setCurrentPair","username","localStorage","getItem","fetch","then","res","json","data","handleVote","preferredVideoId","voteData","video1_id","id","video2_id","preferred_video_id","method","headers","body","JSON","stringify","length","alert","children","className","src","url","controls","onClick"],"sources":["/Users/tobiadesanya/Slurm-feedback/src/components/VideoPair.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"/Users/tobiadesanya/Slurm-feedback/src/components/VideoPair.css\";\n\nconst VideoPair = () => {\n  const [videos, setVideos] = useState([]);\n  const [currentPair, setCurrentPair] = useState(0);\n  const username = localStorage.getItem(\"username\");\n\n  useEffect(() => {\n    // Fetch video data from backend\n    fetch(\"http://localhost:5000/videos\")\n      .then((res) => res.json())\n      .then((data) => setVideos(data));\n  }, []);\n\n  const handleVote = (preferredVideoId) => {\n    const voteData = {\n      username,\n      video1_id: videos[currentPair].id,\n      video2_id: videos[currentPair + 1].id,\n      preferred_video_id: preferredVideoId,\n    };\n\n    fetch(\"http://localhost:5000/vote\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(voteData),\n    }).then(() => {\n      if (currentPair + 2 < videos.length) {\n        setCurrentPair(currentPair + 2); // Show next pair\n      } else {\n        alert(\"Thank you for voting!\"); // Voting complete\n      }\n    });\n  };\n\n  if (videos.length < 2) return <h1>Loading videos...</h1>;\n\n  return (\n    <div className=\"video-pair-container\">\n      <h1>Welcome, {username}</h1>\n      <div className=\"video-container\">\n        <div>\n          <video src={videos[currentPair].url} controls />\n          <button\n            onClick={() => handleVote(videos[currentPair].id)}\n            className=\"video-button\"\n          >\n            Select Video A\n          </button>\n        </div>\n        <div>\n          <video src={videos[currentPair + 1].url} controls />\n          <button\n            onClick={() => handleVote(videos[currentPair + 1].id)}\n            className=\"video-button\"\n          >\n            Select Video B\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoPair;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,iEAAiE,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzE,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACS,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAAW,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAEjDZ,SAAS,CAAC,IAAM,CACd;AACAa,KAAK,CAAC,8BAA8B,CAAC,CAClCC,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAKV,SAAS,CAACU,IAAI,CAAC,CAAC,CACpC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,UAAU,CAAIC,gBAAgB,EAAK,CACvC,KAAM,CAAAC,QAAQ,CAAG,CACfV,QAAQ,CACRW,SAAS,CAAEf,MAAM,CAACE,WAAW,CAAC,CAACc,EAAE,CACjCC,SAAS,CAAEjB,MAAM,CAACE,WAAW,CAAG,CAAC,CAAC,CAACc,EAAE,CACrCE,kBAAkB,CAAEL,gBACtB,CAAC,CAEDN,KAAK,CAAC,4BAA4B,CAAE,CAClCY,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ,CAC/B,CAAC,CAAC,CAACN,IAAI,CAAC,IAAM,CACZ,GAAIN,WAAW,CAAG,CAAC,CAAGF,MAAM,CAACwB,MAAM,CAAE,CACnCrB,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CAAE;AACnC,CAAC,IAAM,CACLuB,KAAK,CAAC,uBAAuB,CAAC,CAAE;AAClC,CACF,CAAC,CAAC,CACJ,CAAC,CAED,GAAIzB,MAAM,CAACwB,MAAM,CAAG,CAAC,CAAE,mBAAO5B,IAAA,OAAA8B,QAAA,CAAI,mBAAiB,CAAI,CAAC,CAExD,mBACE5B,KAAA,QAAK6B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eACnC5B,KAAA,OAAA4B,QAAA,EAAI,WAAS,CAACtB,QAAQ,EAAK,CAAC,cAC5BN,KAAA,QAAK6B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9B5B,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAOgC,GAAG,CAAE5B,MAAM,CAACE,WAAW,CAAC,CAAC2B,GAAI,CAACC,QAAQ,MAAE,CAAC,cAChDlC,IAAA,WACEmC,OAAO,CAAEA,CAAA,GAAMnB,UAAU,CAACZ,MAAM,CAACE,WAAW,CAAC,CAACc,EAAE,CAAE,CAClDW,SAAS,CAAC,cAAc,CAAAD,QAAA,CACzB,gBAED,CAAQ,CAAC,EACN,CAAC,cACN5B,KAAA,QAAA4B,QAAA,eACE9B,IAAA,UAAOgC,GAAG,CAAE5B,MAAM,CAACE,WAAW,CAAG,CAAC,CAAC,CAAC2B,GAAI,CAACC,QAAQ,MAAE,CAAC,cACpDlC,IAAA,WACEmC,OAAO,CAAEA,CAAA,GAAMnB,UAAU,CAACZ,MAAM,CAACE,WAAW,CAAG,CAAC,CAAC,CAACc,EAAE,CAAE,CACtDW,SAAS,CAAC,cAAc,CAAAD,QAAA,CACzB,gBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}